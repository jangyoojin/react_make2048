(this.webpackJsonpmaking_2048=this.webpackJsonpmaking_2048||[]).push([[0],{17:function(e,t,a){},19:function(e,t,a){"use strict";a.r(t);var r=a(2),c=a.n(r),s=a(12),n=a.n(s),o=a(5),i=a(6),l=a(1),b=a(8),u=a(7),j=(a(17),a(0)),d=function(e){Object(b.a)(a,e);var t=Object(u.a)(a);function a(e){return Object(o.a)(this,a),t.call(this,e)}return Object(i.a)(a,[{key:"render",value:function(){return Object(j.jsxs)("div",{className:"TitleScore",children:[Object(j.jsxs)("span",{className:"veryj",children:[Object(j.jsx)("span",{className:"text-style-1",children:"2048"}),"ver.yj"]}),Object(j.jsxs)("span",{children:[Object(j.jsx)("span",{className:"boxTitle",children:"Score"}),Object(j.jsx)("div",{className:"boxText",children:this.props.score})]}),Object(j.jsxs)("span",{children:[Object(j.jsx)("span",{className:"boxTitle",style:{padding:"5px 13px 5px 12px"},children:"Best"}),Object(j.jsx)("div",{className:"boxText",children:this.props.best})]})]})}}]),a}(r.Component),h=a(3),v=a(4),O=function(e,t){return Math.floor(Math.random()*(t-e)+e)},f=function(e){Object(b.a)(a,e);var t=Object(u.a)(a);function a(e){var r;return Object(o.a)(this,a),(r=t.call(this,e)).state={classNa:Array(4).fill("block0").map((function(e){return Array(4).fill("block0")})),word:Array(4).fill(0).map((function(e){return Array(4).fill(0)}))},r.NewBlock=r.NewBlock.bind(Object(l.a)(r)),r.moveBlocks=r.moveBlocks.bind(Object(l.a)(r)),r.moveLeft=r.moveLeft.bind(Object(l.a)(r)),r.onKeyDown=r.onKeyDown.bind(Object(l.a)(r)),r.turnArrayImplement=r.turnArrayImplement.bind(Object(l.a)(r)),r.merge=r.merge.bind(Object(l.a)(r)),r.move=r.move.bind(Object(l.a)(r)),r.NewBlock(),r.NewBlock(),r}return Object(i.a)(a,[{key:"NewBlock",value:function(){var e,t;do{e=O(0,4),t=O(0,4)}while("block0"!==this.state.classNa[e][t]);var a=Object(v.a)(this.state.classNa),r=Object(v.a)(this.state.word);10===O(0,11)?(a[e][t]="block4",r[e][t]=4):(a[e][t]="block2",r[e][t]=2),this.setState({classNa:a}),this.setState({word:r})}},{key:"componentDidMount",value:function(){window.addEventListener("keydown",this.onKeyDown)}},{key:"componentWillUnmount",value:function(){window.addEventListener("keydown",this.onKeyDown)}},{key:"onKeyDown",value:function(e){this.moveBlocks(e)}},{key:"turnArray",value:function(e,t,a){for(var r=0;r<a;){var c=this.turnArrayImplement(e,t),s=Object(h.a)(c,2);e=s[0],t=s[1],r++}return[e,t]}},{key:"turnArrayImplement",value:function(e,t){for(var a=Array(4).fill(null).map((function(e){return Array(4).fill(null)})),r=Array(4).fill(null).map((function(e){return Array(4).fill(null)})),c=0;c<4;c++)for(var s=0;s<4;s++)a[c][s]=e[3-s][c],r[c][s]=t[3-s][c];return[a,r]}},{key:"moveBlocks",value:function(e){var t,a,r;switch(e.keyCode){case 37:var c=this.moveLeft(Object(v.a)(this.state.classNa),Object(v.a)(this.state.word)),s=Object(h.a)(c,3);t=s[0],a=s[1],r=s[2];break;case 38:var n=this.turnArray(Object(v.a)(this.state.classNa),Object(v.a)(this.state.word),3),o=Object(h.a)(n,2);t=o[0],a=o[1];var i=this.moveLeft(t,a),l=Object(h.a)(i,3);t=l[0],a=l[1],r=l[2];var b=this.turnArray(t,a,1),u=Object(h.a)(b,2);t=u[0],a=u[1];break;case 39:var j=this.turnArray(Object(v.a)(this.state.classNa),Object(v.a)(this.state.word),2),d=Object(h.a)(j,2);t=d[0],a=d[1];var O=this.moveLeft(t,a),f=Object(h.a)(O,3);t=f[0],a=f[1],r=f[2];var m=this.turnArray(t,a,2),k=Object(h.a)(m,2);t=k[0],a=k[1];break;case 40:var y=this.turnArray(Object(v.a)(this.state.classNa),Object(v.a)(this.state.word),1),p=Object(h.a)(y,2);t=p[0],a=p[1];var x=this.moveLeft(t,a),w=Object(h.a)(x,3);t=w[0],a=w[1],r=w[2];var N=this.turnArray(t,a,3),A=Object(h.a)(N,2);t=A[0],a=A[1];break;default:return}this.setState({classNa:t}),this.setState({word:a}),this.props.calcScore(r);for(var S=!0,g=0;g<4;g++)for(var B=0;B<4;B++)if("block0"===t[g][B]){S=!1;break}S?(this.props.updateBest(),alert("\uac8c\uc784 \uc885\ub8cc: \ubcf4\ub4dc\uac00 \uac00\ub4dd \ucc3c\uc2b5\ub2c8\ub2e4!!")):this.NewBlock()}},{key:"moveLeft",value:function(e,t){for(var a=0,r=0;r<4;r++)if(e[r][0]===e[r][1]&&e[r][2]===e[r][3])for(var c=0;c<2;c++){var s=2*c;"block0"!==e[r][s]&&(a+=this.merge(t,e,r,s,r,s+1))}else for(var n=1;n<4;n++){var o;if("block0"!==e[r][n]){for(o=n-1;o>=0&&("block0"===e[r][o]&&0!==o);o--);if(e[r][n]===e[r][o]){a+=this.merge(t,e,r,o,r,n);break}}}for(var i=0;i<4;i++)for(var l=1;l<4;l++){var b=void 0;if("block0"!==e[i][l])if("block0"!==e[i][0]){for(b=l-1;b>=0&&("block0"===e[i][b]&&0!==b);b--);b!==l-1&&this.move(e,t,i,b+1,l)}else this.move(e,t,i,0,l)}return[e,t,a]}},{key:"merge",value:function(e,t,a,r,c,s){return e[a][r]*=2,t[a][r]="block"+e[a][r],e[c][s]=0,t[c][s]="block0",e[a][r]}},{key:"move",value:function(e,t,a,r,c){e[a][r]=e[a][c],t[a][r]=t[a][c],e[a][c]="block0",t[a][c]=0}},{key:"render",value:function(){var e=this;return Object(j.jsx)("div",{className:"background",children:Object(j.jsx)("table",{id:"board",children:Object(j.jsx)("tbody",{children:Array(4).fill(null).map((function(t,a){return Object(j.jsx)("tr",{children:Array(4).fill(null).map((function(t,r){return Object(j.jsx)("td",{className:e.state.classNa[a][r],children:e.state.word[a][r]},r)}))},a)}))})})})}}]),a}(r.Component),m=function(e){Object(b.a)(a,e);var t=Object(u.a)(a);function a(e){return Object(o.a)(this,a),t.call(this,e)}return Object(i.a)(a,[{key:"render",value:function(){return Object(j.jsxs)("div",{id:"reset",children:[Object(j.jsx)("span",{id:"undo",children:"undo"}),Object(j.jsx)("span",{id:"restart",children:"restart"})]})}}]),a}(r.Component),k=function(e){Object(b.a)(a,e);var t=Object(u.a)(a);function a(e){var r;return Object(o.a)(this,a),(r=t.call(this,e)).state={score:0},r.calcScore=r.calcScore.bind(Object(l.a)(r)),r.updateBest=r.updateBest.bind(Object(l.a)(r)),r}return Object(i.a)(a,[{key:"calcScore",value:function(e){var t=this.state.score;this.setState({score:t+e})}},{key:"updateBest",value:function(){null===localStorage.getItem("best")&&localStorage.setItem("best",0),Number(localStorage.getItem("best"))<this.state.score&&localStorage.setItem("best",this.state.score)}},{key:"render",value:function(){return Object(j.jsxs)("div",{children:[Object(j.jsxs)("div",{children:[Object(j.jsx)(d,{score:this.state.score,best:localStorage.getItem("best")}),Object(j.jsx)(m,{})]}),Object(j.jsx)("div",{children:Object(j.jsx)(f,{calcScore:this.calcScore,updateBest:this.updateBest})})]})}}]),a}(r.Component);n.a.render(Object(j.jsx)(c.a.StrictMode,{children:Object(j.jsx)(k,{})}),document.getElementById("root"))}},[[19,1,2]]]);
//# sourceMappingURL=main.3a158ba8.chunk.js.map
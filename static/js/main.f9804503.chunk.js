(this.webpackJsonpmaking_2048=this.webpackJsonpmaking_2048||[]).push([[0],{17:function(e,t,r){},19:function(e,t,r){"use strict";r.r(t);var a=r(2),c=r.n(a),s=r(12),n=r.n(s),o=r(5),i=r(6),l=r(1),b=r(8),u=r(7),v=(r(17),r(0)),j=function(e){Object(b.a)(r,e);var t=Object(u.a)(r);function r(e){return Object(o.a)(this,r),t.call(this,e)}return Object(i.a)(r,[{key:"render",value:function(){return Object(v.jsxs)("div",{className:"TitleScore",children:[Object(v.jsxs)("span",{className:"veryj",children:[Object(v.jsx)("span",{className:"text-style-1",children:"2048"}),"ver.yj"]}),Object(v.jsxs)("span",{children:[Object(v.jsx)("span",{className:"boxTitle",children:"Score"}),Object(v.jsx)("div",{className:"boxText",children:this.props.score})]}),Object(v.jsxs)("span",{children:[Object(v.jsx)("span",{className:"boxTitle",style:{padding:"5px 13px 5px 12px"},children:"Best"}),Object(v.jsx)("div",{className:"boxText",children:this.props.best})]})]})}}]),r}(a.Component),h=r(3),f=r(4),d=function(e,t){return Math.floor(Math.random()*(t-e)+e)},O=function(e){Object(b.a)(r,e);var t=Object(u.a)(r);function r(e){var a;return Object(o.a)(this,r),(a=t.call(this,e)).state={classNa:Array(4).fill("block0").map((function(e){return Array(4).fill("block0")})),word:Array(4).fill(0).map((function(e){return Array(4).fill(0)}))},a.NewBlock=a.NewBlock.bind(Object(l.a)(a)),a.moveBlocks=a.moveBlocks.bind(Object(l.a)(a)),a.moveLeft=a.moveLeft.bind(Object(l.a)(a)),a.onKeyDown=a.onKeyDown.bind(Object(l.a)(a)),a.turnArrayImplement=a.turnArrayImplement.bind(Object(l.a)(a)),a.merge=a.merge.bind(Object(l.a)(a)),a.move=a.move.bind(Object(l.a)(a)),a.checkMove=a.checkMove.bind(Object(l.a)(a)),a.NewBlock(),a.NewBlock(),a}return Object(i.a)(r,[{key:"NewBlock",value:function(){var e,t;do{e=d(0,4),t=d(0,4)}while("block0"!==this.state.classNa[e][t]);var r=Object(f.a)(this.state.classNa),a=Object(f.a)(this.state.word);10===d(0,11)?(r[e][t]="block4",a[e][t]=4):(r[e][t]="block2",a[e][t]=2),this.setState({classNa:r}),this.setState({word:a})}},{key:"componentDidMount",value:function(){window.addEventListener("keydown",this.onKeyDown)}},{key:"componentWillUnmount",value:function(){window.addEventListener("keydown",this.onKeyDown)}},{key:"onKeyDown",value:function(e){this.moveBlocks(e)}},{key:"turnArray",value:function(e,t,r){for(var a=0;a<r;){var c=this.turnArrayImplement(e,t),s=Object(h.a)(c,2);e=s[0],t=s[1],a++}return[e,t]}},{key:"turnArrayImplement",value:function(e,t){for(var r=Array(4).fill(null).map((function(e){return Array(4).fill(null)})),a=Array(4).fill(null).map((function(e){return Array(4).fill(null)})),c=0;c<4;c++)for(var s=0;s<4;s++)r[c][s]=e[3-s][c],a[c][s]=t[3-s][c];return[r,a]}},{key:"moveBlocks",value:function(e){var t,r,a,c;switch(e.keyCode){case 37:if(c=this.checkMove(Object(f.a)(this.state.classNa))){var s=this.moveLeft(Object(f.a)(this.state.classNa),Object(f.a)(this.state.word)),n=Object(h.a)(s,3);t=n[0],r=n[1],a=n[2]}console.log("left");break;case 38:var o=this.turnArray(Object(f.a)(this.state.classNa),Object(f.a)(this.state.word),3),i=Object(h.a)(o,2);if(t=i[0],r=i[1],c=this.checkMove(t)){var l=this.moveLeft(t,r),b=Object(h.a)(l,3);t=b[0],r=b[1],a=b[2]}var u=this.turnArray(t,r,1),v=Object(h.a)(u,2);t=v[0],r=v[1],console.log("up");break;case 39:var j=this.turnArray(Object(f.a)(this.state.classNa),Object(f.a)(this.state.word),2),d=Object(h.a)(j,2);if(t=d[0],r=d[1],c=this.checkMove(t)){var O=this.moveLeft(t,r),k=Object(h.a)(O,3);t=k[0],r=k[1],a=k[2]}var m=this.turnArray(t,r,2),y=Object(h.a)(m,2);t=y[0],r=y[1];break;case 40:var p=this.turnArray(Object(f.a)(this.state.classNa),Object(f.a)(this.state.word),1),x=Object(h.a)(p,2);if(t=x[0],r=x[1],c=this.checkMove(t)){var w=this.moveLeft(t,r),N=Object(h.a)(w,3);t=N[0],r=N[1],a=N[2]}var g=this.turnArray(t,r,3),A=Object(h.a)(g,2);t=A[0],r=A[1];break;default:return}for(var S=!0,B=0;B<4;B++)for(var M=0;M<4;M++)if("block0"===t[B][M]){S=!1;break}c&&(this.setState({classNa:t}),this.setState({word:r}),this.props.calcScore(a),S||this.NewBlock());for(var I=0;I<4;I++)for(var L=0;L<4;L++)if("block2048"===t[I][L]){S=!0;break}!c&&S&&(this.props.updateBest(),alert("\uac8c\uc784 \uc885\ub8cc: \ubcf4\ub4dc\uac00 \uac00\ub4dd \ucc3c\uc2b5\ub2c8\ub2e4!!"))}},{key:"checkMove",value:function(e){for(var t=!1,r=0;r<4;r++)if(e[r][0]===e[r][1]&&e[r][2]===e[r][3])for(var a=0;a<2;a++){var c=2*a;if("block0"!==e[r][c])return t=!0}else for(var s=1;s<4;s++){var n;if("block0"!==e[r][s]){for(n=s-1;n>=0&&("block0"===e[r][n]&&0!==n);n--);if(e[r][s]===e[r][n])return t=!0}}for(var o=0;o<4;o++)for(var i=1;i<4;i++){var l=void 0;if("block0"!==e[o][i]){if("block0"===e[o][0])return t=!0;for(l=i-1;l>=0&&("block0"===e[o][l]&&0!==l);l--);if(l!==i-1)return t=!0}}return t}},{key:"moveLeft",value:function(e,t){for(var r=0,a=0;a<4;a++){if(e[a][0]===e[a][1]&&e[a][2]===e[a][3]){for(var c=0;c<2;c++){var s=2*c;"block0"!==e[a][s]&&(r+=this.merge(t,e,a,s,a,s+1))}console.log(e)}else for(var n=1;n<4;n++){var o;if("block0"!==e[a][n]){for(o=n-1;o>=0&&("block0"===e[a][o]&&0!==o);o--);if(e[a][n]===e[a][o]){r+=this.merge(t,e,a,o,a,n);break}}}console.log("move")}for(var i=0;i<4;i++)for(var l=1;l<4;l++){var b=void 0;if("block0"!==e[i][l])if("block0"!==e[i][0]){for(b=l-1;b>=0&&("block0"===e[i][b]&&0!==b);b--);b!==l-1&&this.move(e,t,i,b+1,l)}else this.move(e,t,i,0,l)}return[e,t,r]}},{key:"merge",value:function(e,t,r,a,c,s){return e[r][a]*=2,t[r][a]="block"+e[r][a],e[c][s]=0,t[c][s]="block0",e[r][a]}},{key:"move",value:function(e,t,r,a,c){e[r][a]=e[r][c],t[r][a]=t[r][c],e[r][c]="block0",t[r][c]=0}},{key:"render",value:function(){var e=this;return Object(v.jsx)("div",{className:"background",children:Object(v.jsx)("table",{id:"board",children:Object(v.jsx)("tbody",{children:Array(4).fill(null).map((function(t,r){return Object(v.jsx)("tr",{children:Array(4).fill(null).map((function(t,a){return Object(v.jsx)("td",{className:e.state.classNa[r][a],children:e.state.word[r][a]},a)}))},r)}))})})})}}]),r}(a.Component),k=function(e){Object(b.a)(r,e);var t=Object(u.a)(r);function r(e){return Object(o.a)(this,r),t.call(this,e)}return Object(i.a)(r,[{key:"render",value:function(){return Object(v.jsxs)("div",{id:"reset",children:[Object(v.jsx)("span",{id:"undo",children:"undo"}),Object(v.jsx)("span",{id:"restart",children:"restart"})]})}}]),r}(a.Component),m=function(e){Object(b.a)(r,e);var t=Object(u.a)(r);function r(e){var a;return Object(o.a)(this,r),(a=t.call(this,e)).state={score:0},a.calcScore=a.calcScore.bind(Object(l.a)(a)),a.updateBest=a.updateBest.bind(Object(l.a)(a)),a}return Object(i.a)(r,[{key:"calcScore",value:function(e){var t=this.state.score;this.setState({score:t+e})}},{key:"updateBest",value:function(){null===localStorage.getItem("best")&&localStorage.setItem("best",0),Number(localStorage.getItem("best"))<this.state.score&&localStorage.setItem("best",this.state.score)}},{key:"render",value:function(){return Object(v.jsxs)("div",{children:[Object(v.jsxs)("div",{children:[Object(v.jsx)(j,{score:this.state.score,best:localStorage.getItem("best")}),Object(v.jsx)(k,{})]}),Object(v.jsx)("div",{children:Object(v.jsx)(O,{calcScore:this.calcScore,updateBest:this.updateBest})})]})}}]),r}(a.Component);n.a.render(Object(v.jsx)(c.a.StrictMode,{children:Object(v.jsx)(m,{})}),document.getElementById("root"))}},[[19,1,2]]]);
//# sourceMappingURL=main.f9804503.chunk.js.map